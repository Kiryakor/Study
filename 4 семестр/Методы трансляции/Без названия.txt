%{ 
	#include <stdio.h> 
	#include <stdlib.h> 

	void yyerror(char const* msg); 
%} 

%token ident 
%token badsym 

%% 
word: | word line; 
line: ident | 
S ident {
	printf("Success!\n");
	printf("Result:%d \n",$$);
	YYACCEPT;
} | badsym {
 	printf("Syntax error!\n");
	YYERROR;
} | error ident { YYABORT;}; 

S: E ;
 
E: E '+' T { $$ = $1 + $3;}
| T {  $$ = $1;} 
| '5''+''5' { $$ = 0;} 
| '6''+''6' { $$ = 0;} 
| '5''+''6' { $$ = 0;} 
| '6''+''5' { $$ = 0;} 
| '6''+''x' { $$ = 1;} 
| '5''+''x' { $$ = 1;} 
| 'x''+''6' { $$ = 1;} 
| 'x''+''5' { $$ = 1;} 
| 'x''+''x' { $$ = 2;} ;
 
T: T '*' F { $$ = $1 * $3;} 
| F { $$ = $1;} 
| '5''*''5' { $$ = 0;} 
| '6''*''6' { $$ = 0;} 
| '5''*''6' { $$ = 0;} 
| '6''*''5' { $$ = 0;} 
| '6''*''x' { $$ = 6;} 
| '5''*''x' { $$ = 5;} 
| 'x''*''6' { $$ = 6;} 
| 'x''*''5' { $$ = 5;} 
| 'x''*''x' { $$ = 2;};
 
F: 'x' { $$ = 1;}
| '5' { $$ = 0; }
| '6' { $$ = 0; }
| '(' E ')' { $$ = $2; };
 
%% 

void yyerror(char const* msg) { 
	printf("Syntax error!\n"); 
} 

int main() { 
	printf("Enter words:\n"); 
	while(1) { 
		yyparse(); 
	} 
	return 0; 
}